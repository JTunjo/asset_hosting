<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Registro a la Lista de espera</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    :root {
      --primary: #2563eb;
      --primary-dark: #1d4ed8;
      --accent: #facc15;
      --bg: #f9fafb;
      --surface: #ffffff;
      --border: #e5e7eb;
      --text: #111827;
      --muted: #6b7280;
    }

    * { box-sizing: border-box; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, Inter, Ubuntu, sans-serif;
      background: linear-gradient(180deg, #f9fafb 0%, #eef2ff 100%);
      margin: 0;
      color: var(--text);
    }

    .hidden { display: none !important; }

    /* ===== Header ===== */
    .header {
      background: linear-gradient(135deg, #2563eb, #1e40af);
      color: white;
      text-align: center;
      padding: 1rem;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 10;
      box-shadow: 0 8px 24px rgba(37, 99, 235, 0.35);
    }

    .progress-wrapper {
      position: relative;
      width: 80%;
      max-width: 500px;
      height: 10px;
      background: rgba(255,255,255,0.25);
      border-radius: 999px;
      margin: 0.7rem auto 0;
      overflow: hidden;
    }

    #progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--accent), #fde047);
      transition: width 0.35s ease;
    }

    #progress-text {
      position: absolute;
      right: -42px;
      top: -4px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .main-content {
      display: flex;
      justify-content: center;
      padding: 1rem;
      margin-top: 130px;
      margin-bottom: 90px;
    }

    .survey-container {
      background: var(--surface);
      width: 100%;
      max-width: 520px;
      padding: 2.2rem;
      border-radius: 18px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.08);
      border: 1px solid var(--border);
    }

    input, textarea {
      width: 100%;
      padding: 0.65rem;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: #f9fafb;
    }

    button {
      margin-top: 1.4rem;
      width: 100%;
      padding: 0.7rem;
      background: linear-gradient(135deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
    }

    /* ===== Success animation ===== */
    .success-overlay {
      position: fixed;
      inset: 0;
      background: rgba(255,255,255,0.75);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .success-overlay.hidden {
      display: none !important;
    }

    .check-circle {
      width: 90px;
      height: 90px;
      background: #2563eb;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: pop 0.3s ease-out;
    }

    .check-circle svg {
      width: 48px;
      height: 48px;
      fill: none;
      stroke: white;
      stroke-width: 5;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-dasharray: 50;
      stroke-dashoffset: 50;
      animation: draw-check 0.4s ease-out forwards;
      animation-delay: 0.2s;
    }

    @keyframes draw-check { to { stroke-dashoffset: 0; } }
    @keyframes pop {
      from { transform: scale(0.6); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
  </style>
</head>

<body>

<header class="header">
  <img src="TunjoWhite.png" height="40">
  <h1>Encuesta - Café IOT</h1>
  <div class="progress-wrapper">
    <div id="progress-bar"></div>
    <span id="progress-text">0%</span>
  </div>
</header>

<div class="main-content">
  <div class="survey-container">

    <div class="question-page" data-param="q1">
      <h2>Nombre de la Organización</h2>
      <input type="text">
      <button onclick="nextPage()">Siguiente</button>
    </div>

    <div class="question-page hidden" data-param="q2">
      <h2>Nombre del Proyecto</h2>
      <textarea placeholder="Escribe aquí tu respuesta"></textarea>
      <button onclick="nextPage()">Siguiente</button>
    </div>

    <div class="question-page hidden" data-param="q3">
      <h2>Correo electrónico corporativo</h2>
      <input type="email">
      <button onclick="nextPage()">Siguiente</button>
    </div>

    <div class="question-page hidden" data-param="q4">
      <h2>Teléfono de contacto</h2>
      <input type="number">
      <button onclick="nextPage()">Siguiente</button>
    </div>

    <div class="question-page hidden" data-param="q5">
      <h2>Razón por la cual la aplicación le sería de valor</h2>
      <textarea placeholder="Escribe aquí tu respuesta"></textarea>
      <button onclick="submitSurvey()" id="submit-btn">Enviar</button>
    </div>


    <div class="question-page hidden" data-param="q6">
      <h2>¿Cómo se enteró de la aplicación?</h2>
      <textarea placeholder="Escribe aquí tu respuesta"></textarea>
      <button onclick="submitSurvey()" id="submit-btn">Enviar</button>
    </div>

    <div class="question-page hidden" id="page-10">
      <h2>¡Gracias por participar!</h2>
      <p>Tu respuesta ha sido registrada.</p>
    </div>

  </div>
</div>

<div id="success-overlay" class="success-overlay hidden">
  <div class="check-circle">
    <svg viewBox="0 0 52 52">
      <path d="M14 27 L23 36 L38 18"/>
    </svg>
  </div>
</div>

<script>
  const pages = document.querySelectorAll('.question-page:not(#page-10)');
  let currentIndex = 0;
  showPage(0);

  function showPage(i) {
    pages.forEach((p, idx) => p.classList.toggle('hidden', idx !== i));
    updateProgress();
  }

  function nextPage() {
    currentIndex++;
    showPage(currentIndex);
  }

  function updateProgress() {
    const percent = Math.round(((currentIndex + 1) / pages.length) * 100);
    document.getElementById('progress-bar').style.width = percent + '%';
    document.getElementById('progress-text').textContent = percent + '%';
  }

  async function submitSurvey() {
    const overlay = document.getElementById('success-overlay');
    overlay.classList.remove('hidden');

    setTimeout(() => {
      overlay.classList.add('hidden');
      pages.forEach(p => p.classList.add('hidden'));
      document.getElementById('page-10').classList.remove('hidden');
    }, 800);
  }
</script>

</body>
</html>
